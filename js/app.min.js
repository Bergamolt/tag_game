"use strict";const field=document.querySelector(".field"),tapContainer=document.querySelector(".tap"),pauseBtn=document.querySelector("#pause"),beep=new Audio("./audio/beep.wav"),sizeTile=100;let tapCounter=1,pause=!1,timeMinute=0,timeSecond=0,emptyPos={x:0,y:0};const numbers=[...Array(15).keys()].sort(()=>Math.random()-.5),time=()=>{console.log("done");const timeBlock=document.querySelector(".time");let minute=timeMinute,second=timeSecond;const timer=setInterval(()=>{timeSecond>59&&(minute++,second=0),timeBlock.textContent=`${minute<10?"0"+minute:minute}:${second<10?"0"+second++:second++}`,timeMinute=minute,timeSecond=second},1e3);return timer},move=tile=>{const savePosY=tile.top,savePosX=tile.left,diffX=Math.abs(savePosX-emptyPos.x),diffY=Math.abs(savePosY-emptyPos.y);diffY+diffX>100||(tile.style.top=emptyPos.y+"px",tile.style.left=emptyPos.x+"px",tile.top=emptyPos.y,tile.left=emptyPos.x,emptyPos.y=savePosY,emptyPos.x=savePosX,tapContainer.textContent=tapCounter++,beep.play())},render=num=>{const color=randomColor({format:"rgba",alpha:.9}),tile=document.createElement("div");tile.classList.add("tile"),tile.innerHTML=`<div class="tile-item" style="background-color:${color};">${numbers[num-1]+1}</div>`,field.append(tile);const posX=num%4,posY=(num-posX)/4;return tile.style.top=`${100*posY}px`,tile.style.left=`${100*posX}px`,tile.top=100*posY,tile.left=100*posX,tile};for(let i=1;i<=15;i++){const tile=render(i);tile.addEventListener("click",()=>{move(tile)})}let timer=time();pauseBtn.addEventListener("click",()=>{pause?(timer=time(),pause=!1):(pause=!0,clearInterval(timer))});